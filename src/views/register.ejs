<!DOCTYPE html>
<html>

<head>
    <title>
        registro
    </title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


<body>
    <div class="contenedor">
        <div class="form-container">
            <h1>Registro</h1>


            <form class="formRegister" action="/users/register" method="POST" enctype="multipart/form-data">


                <label for="name"></label>Nombre:
                <input type="text" name="name" id="name" placeholder="Introduce tu nombre"
                    value="<%= locals.old && old.name ? old.name : null %> "
                    class="<%= locals.errors && errors.name ? 'is-invalid': null  %> ">
                <% if(locals.errors && errors.name){ %>
                    <p class="errors">
                        <%= errors.name.msg %>
                    </p>
                    <% } %>
                        <label for="age">Edad</label>
                        <input type="number" name="age" id="age"
                            class="<%= locals.errors && errors.age ? 'is-invalid': null  %> "
                            placeholder="Introduce tu edad" value="<%= locals.old && old.age ? old.age : null %> ">
                        <% if(locals.errors && errors.age){ %>
                            <p class="errors">
                                <%= errors.age.msg %>
                            </p>
                            <% } %>
                                <label for="email">Email</label>
                                <input type="email" name="email" id="email"
                                    class="<%= locals.errors && errors.email ? 'is-invalid': null  %> "
                                    placeholder="Introduce tu email"
                                    value="<%= locals.old && old.email ? old.email : null %> ">
                                <% if(locals.errors && errors.email){ %>
                                    <p class="errors">
                                        <%= errors.email.msg %>
                                    </p>
                                    <% } %>
                                        <label for="password">Contraeña</label>
                                        <input type="password" name="password"
                                            class="<%= locals.errors && errors.password ? 'is-invalid': null  %>"
                                            id="password" placeholder="Introduce una contraseña">
                                        <% if(locals.errors && errors.password){ %>
                                            <p class="errors">
                                                <%= errors.password.msg %>
                                            </p>
                                            <% } %>
                                                <label for="country"></label>Pais
                                                <select name="country" id="country"
                                                    class="<%= locals.errors && errors.country ? 'is-invalid': null  %> ">
                                                    <option value="">Elegi un pais</option>
                                                    <% let
                                                        countries=['Argentina','Bolivia','Brasil','Colombia','Chile','Ecuador','Paraguay','Perú','Uruguay','Venezuela'];
                                                        %>
                                                        <% for(const oneCountry of countries){ %>

                                                            <option value="<%= oneCountry  %>" <%=locals.old &&
                                                                (oneCountry==old.country) ? 'selected' : null %>
                                                                >
                                                                <%= oneCountry %>
                                                            </option>

                                                            <% } %>
                                                </select>
                                                <% if(locals.errors && errors.country){ %>
                                                    <p class="errors">
                                                        <%= errors.country.msg %>
                                                    </p>
                                                    <% } %>
                                                        <label for="imagenUsuario">Imagen de perfil</label>
                                                        <input type="file" name="imagenUsuario">
                                                        <% if(locals.errors && errors.imagenUsuario){ %>
                                                            <p class="errors">
                                                                <%= errors.imagenUsuario.msg %>
                                                            </p>
                                                            <% } %>
                                                                <button class="boton btn btn-primary"
                                                                    type="submit">Enviar</button>
            </form>

        </div>
    </div>
</body>

</html>